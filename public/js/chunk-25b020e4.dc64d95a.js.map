{"version":3,"sources":["webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/views/Devices/Index.vue?e1e2","webpack:///./src/components/Devices/UpdateName.vue?4f4a","webpack:///src/components/Devices/UpdateName.vue","webpack:///./src/components/Devices/UpdateName.vue?2a55","webpack:///./src/components/Devices/UpdateName.vue","webpack:///src/views/Devices/Index.vue","webpack:///./src/views/Devices/Index.vue?09cc","webpack:///./src/views/Devices/Index.vue"],"names":["DESCRIPTORS","fails","has","defineProperty","Object","cache","thrower","it","module","exports","METHOD_NAME","options","method","ACCESSORS","argument0","argument1","undefined","O","length","enumerable","get","call","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","this","match","error","bind","IndexedObject","toObject","toLength","arraySpeciesCreate","push","createMethod","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","that","specificCreate","value","result","self","boundFunction","index","create","target","forEach","map","filter","some","every","find","findIndex","$","$findIndex","addToUnscopables","arrayMethodUsesToLength","FIND_INDEX","SKIPS_HOLES","USES_TO_LENGTH","Array","proto","forced","arguments","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","devices","devices_fields","scopedSlots","_u","key","fn","row","_s","$moment","format","on","$event","openUpdateNameModal","item","updateAlert","model","callback","$$v","$set","expression","updateAuthorized","ref","staticRenderFns","updateDeviceName","device","data","methods","showModal","$bvModal","show","name","console","log","component","created","getDevices","$cable","subscribe","channel","room","user_id","$auth","user","id","channels","MeasurementChannel","connected","received","deviceOpenedChanged","device_id","opened","components","UpdateNameModal","in_alert","new_status","authorized","$refs","update_name_modal"],"mappings":"mGAAA,IAAIA,EAAc,EAAQ,QACtBC,EAAQ,EAAQ,QAChBC,EAAM,EAAQ,QAEdC,EAAiBC,OAAOD,eACxBE,EAAQ,GAERC,EAAU,SAAUC,GAAM,MAAMA,GAEpCC,EAAOC,QAAU,SAAUC,EAAaC,GACtC,GAAIT,EAAIG,EAAOK,GAAc,OAAOL,EAAMK,GACrCC,IAASA,EAAU,IACxB,IAAIC,EAAS,GAAGF,GACZG,IAAYX,EAAIS,EAAS,cAAeA,EAAQE,UAChDC,EAAYZ,EAAIS,EAAS,GAAKA,EAAQ,GAAKL,EAC3CS,EAAYb,EAAIS,EAAS,GAAKA,EAAQ,QAAKK,EAE/C,OAAOX,EAAMK,KAAiBE,IAAWX,GAAM,WAC7C,GAAIY,IAAcb,EAAa,OAAO,EACtC,IAAIiB,EAAI,CAAEC,QAAS,GAEfL,EAAWV,EAAec,EAAG,EAAG,CAAEE,YAAY,EAAMC,IAAKd,IACxDW,EAAE,GAAK,EAEZL,EAAOS,KAAKJ,EAAGH,EAAWC,Q,qBCxB9B,IAAIf,EAAc,EAAQ,QACtBG,EAAiB,EAAQ,QAAuCmB,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIP7B,KAAiB6B,KAAQN,IAC3BpB,EAAeoB,EAAmBM,EAAM,CACtCC,cAAc,EACdV,IAAK,WACH,IACE,OAAOM,EAA0BL,KAAKU,MAAMC,MAAMJ,GAAQ,GAC1D,MAAOK,GACP,MAAO,Q,qBCjBf,IAAIC,EAAO,EAAQ,QACfC,EAAgB,EAAQ,QACxBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAqB,EAAQ,QAE7BC,EAAO,GAAGA,KAGVC,EAAe,SAAUC,GAC3B,IAAIC,EAAiB,GAARD,EACTE,EAAoB,GAARF,EACZG,EAAkB,GAARH,EACVI,EAAmB,GAARJ,EACXK,EAAwB,GAARL,EAChBM,EAAmB,GAARN,GAAaK,EAC5B,OAAO,SAAUE,EAAOC,EAAYC,EAAMC,GASxC,IARA,IAOIC,EAAOC,EAPPpC,EAAImB,EAASY,GACbM,EAAOnB,EAAclB,GACrBsC,EAAgBrB,EAAKe,EAAYC,EAAM,GACvChC,EAASmB,EAASiB,EAAKpC,QACvBsC,EAAQ,EACRC,EAASN,GAAkBb,EAC3BoB,EAAShB,EAASe,EAAOT,EAAO9B,GAAUyB,EAAYc,EAAOT,EAAO,QAAKhC,EAEvEE,EAASsC,EAAOA,IAAS,IAAIT,GAAYS,KAASF,KACtDF,EAAQE,EAAKE,GACbH,EAASE,EAAcH,EAAOI,EAAOvC,GACjCwB,GACF,GAAIC,EAAQgB,EAAOF,GAASH,OACvB,GAAIA,EAAQ,OAAQZ,GACvB,KAAK,EAAG,OAAO,EACf,KAAK,EAAG,OAAOW,EACf,KAAK,EAAG,OAAOI,EACf,KAAK,EAAGjB,EAAKlB,KAAKqC,EAAQN,QACrB,GAAIP,EAAU,OAAO,EAGhC,OAAOC,GAAiB,EAAIF,GAAWC,EAAWA,EAAWa,IAIjElD,EAAOC,QAAU,CAGfkD,QAASnB,EAAa,GAGtBoB,IAAKpB,EAAa,GAGlBqB,OAAQrB,EAAa,GAGrBsB,KAAMtB,EAAa,GAGnBuB,MAAOvB,EAAa,GAGpBwB,KAAMxB,EAAa,GAGnByB,UAAWzB,EAAa,K,kCC9D1B,IAAI0B,EAAI,EAAQ,QACZC,EAAa,EAAQ,QAAgCF,UACrDG,EAAmB,EAAQ,QAC3BC,EAA0B,EAAQ,QAElCC,EAAa,YACbC,GAAc,EAEdC,EAAiBH,EAAwBC,GAGzCA,IAAc,IAAIG,MAAM,GAAGH,IAAY,WAAcC,GAAc,KAIvEL,EAAE,CAAER,OAAQ,QAASgB,OAAO,EAAMC,OAAQJ,IAAgBC,GAAkB,CAC1EP,UAAW,SAAmBhB,GAC5B,OAAOkB,EAAWpC,KAAMkB,EAAY2B,UAAU1D,OAAS,EAAI0D,UAAU,QAAK5D,MAK9EoD,EAAiBE,I,yCCvBjB,IAAIO,EAAS,WAAa,IAAIC,EAAI/C,KAASgD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,eAAe,CAACL,EAAIM,GAAG,kBAAkBH,EAAG,UAAU,CAACE,YAAY,OAAOE,MAAM,CAAC,QAAU,GAAG,MAAQ,GAAG,MAAQP,EAAIQ,QAAQ,OAASR,EAAIS,gBAAgBC,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,eAAeC,GAAG,SAASC,GAAK,MAAO,CAACX,EAAG,oBAAoB,CAACI,MAAM,CAAC,KAAOO,EAAIxC,MAAQ,YAAc,cAAc,KAAO,WAAW,CAACsC,IAAI,mBAAmBC,GAAG,SAASC,GAAK,MAAO,CAACd,EAAIM,GAAG,IAAIN,EAAIe,GAAGf,EAAIgB,QAAQF,EAAIxC,OAAO2C,OAAO,wBAAwB,QAAQ,CAACL,IAAI,aAAaC,GAAG,SAASC,GAAK,MAAO,CAACd,EAAIM,GAAG,IAAIN,EAAIe,GAAGD,EAAIxC,OAAO,KAAK6B,EAAG,oBAAoB,CAACE,YAAY,iBAAiBE,MAAM,CAAC,KAAO,QAAQW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,oBAAoBN,EAAIO,aAAa,CAACT,IAAI,iBAAiBC,GAAG,SAASC,GAAK,MAAO,CAACX,EAAG,kBAAkB,CAACI,MAAM,CAAC,KAAO,eAAe,OAAS,IAAIW,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOnB,EAAIsB,YAAYR,EAAIO,MAAOP,EAAIxC,SAASiD,MAAM,CAACjD,MAAOwC,EAAS,MAAEU,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKZ,EAAK,QAASW,IAAME,WAAW,kBAAkB,CAACf,IAAI,mBAAmBC,GAAG,SAASC,GAAK,MAAO,CAACX,EAAG,kBAAkB,CAACI,MAAM,CAAC,KAAO,eAAe,OAAS,IAAIW,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOnB,EAAI4B,iBAAiBd,EAAIO,MAAOP,EAAIxC,SAASiD,MAAM,CAACjD,MAAOwC,EAAS,MAAEU,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKZ,EAAK,QAASW,IAAME,WAAW,sBAAsBxB,EAAG,kBAAkB,CAAC0B,IAAI,uBAAuB,IACx6CC,EAAkB,G,uDCDlB,EAAS,WAAa,IAAI9B,EAAI/C,KAASgD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACI,MAAM,CAAC,GAAK,cAAc,MAAQ,iBAAiB,WAAW,YAAY,eAAe,YAAYW,GAAG,CAAC,GAAKlB,EAAI+B,mBAAmB,CAAC5B,EAAG,SAAS,CAACA,EAAG,eAAe,CAACoB,MAAM,CAACjD,MAAO0B,EAAIgC,OAAW,KAAER,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIgC,OAAQ,OAAQP,IAAME,WAAW,kBAAkB,IAAI,IAC5Y,EAAkB,GCiBtB,G,UAAA,CACEM,KADF,WAEI,MAAO,CACLD,OAAQ,KAGZE,QAAS,CACPC,UADJ,SACA,GACMlF,KAAK+E,OAASA,EACd/E,KAAKmF,SAASC,KAAK,gBAErBN,iBALJ,WAMM,EAAN,wEACQO,KAAMrF,KAAK+E,OAAOM,OAE1B,mBACQC,QAAQC,IAAIrF,UClC+U,I,YCO/VsF,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCuCf,GACER,KADF,WAEI,MAAO,CACLxB,eAAgB,CACtB,CACQ,IAAR,SACQ,MAAR,eACQ,MAAR,eAEA,CACQ,IAAR,OACQ,MAAR,QAEA,CACQ,IAAR,MACQ,MAAR,OAEA,CACQ,IAAR,aACQ,MAAR,gBAEA,CACQ,IAAR,aACQ,MAAR,aACQ,MAAR,eAEA,CACQ,IAAR,WACQ,MAAR,YACQ,MAAR,gBAGMD,QAAS,KAGbkC,QAnCF,WAoCIzF,KAAK0F,aACL1F,KAAK2F,OAAOC,UAAU,CACpBC,QAAS,qBACTC,KAAM,SACNC,QAAS/F,KAAKgG,MAAMC,OAAOC,MAG/BC,SAAU,CACRC,mBAAoB,CAClBC,UADN,aAEMC,SAFN,SAEA,GACQtG,KAAKuG,oBAAoBvB,EAAKwB,UAAWxB,EAAKyB,WAIpDC,WAAY,CACVC,gBAAJ,GAEE1B,QAAS,CACPS,WADJ,WACA,WACM,EAAN,6CACA,kBACQ,EAAR,kBAEA,mBACQJ,QAAQC,IAAIrF,OAGhBmE,YAVJ,SAUA,gBACM,EAAN,8DACQuC,SAAUC,IAElB,kBACQ,IAAR,wDACQ,EAAR,qBAEA,mBACQvB,QAAQC,IAAIrF,OAGhByE,iBAtBJ,SAsBA,gBACM,EAAN,8DACQmC,WAAYD,IAEpB,kBACQ,IAAR,wDACQ,EAAR,qBAEA,mBACQvB,QAAQC,IAAIrF,OAGhBiE,oBAlCJ,SAkCA,GACMnE,KAAK+G,MAAMC,kBAAkB9B,UAAUH,IAEzCwB,oBArCJ,SAqCA,KACM,IAAN,wDAEMvG,KAAKuD,QAAQ9B,GAAOgF,OAASA,KCvJ2T,ICO1V,EAAY,eACd,EACA3D,EACA+B,GACA,EACA,KACA,KACA,MAIa,e","file":"js/chunk-25b020e4.dc64d95a.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"text-center\"},[_vm._v(\"Dispositivos\")]),_c('b-table',{staticClass:\"mt-4\",attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.devices,\"fields\":_vm.devices_fields},scopedSlots:_vm._u([{key:\"cell(opened)\",fn:function(row){return [_c('font-awesome-icon',{attrs:{\"icon\":row.value ? 'door-open' : 'door-closed',\"size\":\"lg\"}})]}},{key:\"cell(created_at)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.$moment(row.value).format(\"DD/MM/YYYY HH:mm:ss\"))+\" \")]}},{key:\"cell(name)\",fn:function(row){return [_vm._v(\" \"+_vm._s(row.value)+\" \"),_c('font-awesome-icon',{staticClass:\"cursor-pointer\",attrs:{\"icon\":\"edit\"},on:{\"click\":function($event){return _vm.openUpdateNameModal(row.item)}}})]}},{key:\"cell(in_alert)\",fn:function(row){return [_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\"},on:{\"change\":function($event){return _vm.updateAlert(row.item, !row.value)}},model:{value:(row.value),callback:function ($$v) {_vm.$set(row, \"value\", $$v)},expression:\"row.value\"}})]}},{key:\"cell(authorized)\",fn:function(row){return [_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\"},on:{\"change\":function($event){return _vm.updateAuthorized(row.item, !row.value)}},model:{value:(row.value),callback:function ($$v) {_vm.$set(row, \"value\", $$v)},expression:\"row.value\"}})]}}])}),_c('UpdateNameModal',{ref:\"update_name_modal\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":\"update_name\",\"title\":\"Atualizar Nome\",\"ok-title\":\"Atualizar\",\"cancel-title\":\"Cancelar\"},on:{\"ok\":_vm.updateDeviceName}},[_c('b-form',[_c('b-form-input',{model:{value:(_vm.device.name),callback:function ($$v) {_vm.$set(_vm.device, \"name\", $$v)},expression:\"device.name\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal \n    id=\"update_name\" \n    title=\"Atualizar Nome\"\n    ok-title=\"Atualizar\"\n    cancel-title=\"Cancelar\"\n    @ok=\"updateDeviceName\"\n  >\n    <b-form>\n      <b-form-input v-model=\"device.name\"></b-form-input>\n    </b-form>\n  </b-modal>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { api_url } from '@/helpers/api_url'\n\nexport default {\n  data() {\n    return {\n      device: {}\n    }\n  },\n  methods: {\n    showModal(device) {\n      this.device = device\n      this.$bvModal.show('update_name');\n    },\n    updateDeviceName() {\n      axios.put(`${api_url}/api/devices/${this.device.id}.json`, {\n        name: this.device.name\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    }\n  } \n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateName.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateName.vue?vue&type=template&id=5505558e&\"\nimport script from \"./UpdateName.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateName.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h1 class=\"text-center\">Dispositivos</h1>\n\n    <b-table \n      striped \n      hover \n      :items=\"devices\"\n      :fields=devices_fields\n      class=\"mt-4\"\n    >\n      <template v-slot:cell(opened)=\"row\">\n        <font-awesome-icon :icon=\"row.value ? 'door-open' : 'door-closed'\" size=\"lg\" />\n      </template>\n\n      <template v-slot:cell(created_at)=\"row\">\n        {{ $moment(row.value).format(\"DD/MM/YYYY HH:mm:ss\") }}\n      </template>\n\n      <template v-slot:cell(name)=\"row\">\n        {{ row.value }}\n        <font-awesome-icon \n          icon=\"edit\"\n          class=\"cursor-pointer\"\n          @click=\"openUpdateNameModal(row.item)\" />\n      </template>\n\n      <template v-slot:cell(in_alert)=\"row\">\n        <b-form-checkbox \n          v-model=\"row.value\" \n          name=\"check-button\" \n          switch\n          @change=\"updateAlert(row.item, !row.value)\"\n        ></b-form-checkbox>\n      </template>\n\n      <template v-slot:cell(authorized)=\"row\">\n        <b-form-checkbox \n          v-model=\"row.value\" \n          name=\"check-button\" \n          switch\n          @change=\"updateAuthorized(row.item, !row.value)\"\n        ></b-form-checkbox>\n      </template>\n    </b-table>\n\n    <UpdateNameModal \n      ref=\"update_name_modal\"\n    />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { api_url } from '@/helpers/api_url'\nimport UpdateNameModal from \"@/components/Devices/UpdateName\"\n\nexport default {\n  data() {\n    return {\n      devices_fields: [\n        {\n          key: 'opened',\n          label: \"Status Porta\",\n          class: \"text-center\"\n        },\n        {\n          key: 'name',\n          label: 'Nome'\n        },\n        {\n          key: 'mac',\n          label: 'MAC'\n        },\n        {\n          key: 'created_at',\n          label: 'Data Criação'\n        },\n        {\n          key: 'authorized',\n          label: 'Autorizado',\n          class: \"text-center\"\n        },\n        {\n          key: 'in_alert',\n          label: 'Em Alerta',\n          class: \"text-center\"\n        }\n      ],\n      devices: []\n    }\n  },\n  created() {\n    this.getDevices();\n    this.$cable.subscribe({\n      channel: 'MeasurementChannel',\n      room: 'public',\n      user_id: this.$auth.user().id\n    });\n  },\n  channels: {\n    MeasurementChannel: {\n      connected() {},\n      received(data) {\n        this.deviceOpenedChanged(data.device_id, data.opened)\n      }\n    }\n  },\n  components: {\n    UpdateNameModal\n  },\n  methods: {\n    getDevices() {\n      axios.get(`${api_url}/api/devices.json`)\n      .then(response => {\n        this.devices = response.data;\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    },\n    updateAlert(device, new_status) {\n      axios.put(`${api_url}/api/devices/${device.id}.json`, {\n        in_alert: new_status\n      })\n      .then(response => {\n        const index = this.devices.findIndex(d => d.id == device.id)\n        this.devices[index] = response.data;\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    },\n    updateAuthorized(device, new_status) {\n      axios.put(`${api_url}/api/devices/${device.id}.json`, {\n        authorized: new_status\n      })\n      .then(response => {\n        const index = this.devices.findIndex(d => d.id == device.id)\n        this.devices[index] = response.data;\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    },\n    openUpdateNameModal(device) {\n      this.$refs.update_name_modal.showModal(device);\n    },\n    deviceOpenedChanged(device_id, opened) {\n      let index = this.devices.findIndex(device => device.id == device_id);\n\n      this.devices[index].opened = opened\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=85b5bee8&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}